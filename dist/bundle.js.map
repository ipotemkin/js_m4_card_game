{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://card_game/./src/cards.js","webpack://card_game/webpack/bootstrap","webpack://card_game/./src/template-engine.ts","webpack://card_game/./src/game.ts","webpack://card_game/./src/timer.ts","webpack://card_game/./src/screens.ts","webpack://card_game/./src/templates.ts","webpack://card_game/./src/index.ts"],"sourcesContent":["var cards = [\n  {\n    pk: 11,\n    name: 'ace',\n    suit: 'spades',\n    img: 'туз пики.svg',\n  },\n  {\n    pk: 12,\n    name: 'king',\n    suit: 'spades',\n    img: 'король пики.svg',\n  },\n  {\n    pk: 13,\n    name: 'queen',\n    suit: 'spades',\n    img: 'дама пики.svg',\n  },\n  {\n    pk: 14,\n    name: 'jack',\n    suit: 'spades',\n    img: 'валет пики.svg',\n  },\n  {\n    pk: 15,\n    name: '10',\n    suit: 'spades',\n    img: '10 пики.svg',\n  },\n  {\n    pk: 16,\n    name: '9',\n    suit: 'spades',\n    img: '9 пики.svg',\n  },\n  {\n    pk: 17,\n    name: '8',\n    suit: 'spades',\n    img: '8 пики.svg',\n  },\n  {\n    pk: 18,\n    name: '7',\n    suit: 'spades',\n    img: '7 пики.svg',\n  },\n  {\n    pk: 19,\n    name: '6',\n    suit: 'spades',\n    img: '6 пики.svg',\n  },\n  {\n    pk: 21,\n    name: 'ace',\n    suit: 'hearts',\n    img: 'туз черви.svg',\n  },\n  {\n    pk: 22,\n    name: 'king',\n    suit: 'hearts',\n    img: 'король черви.svg',\n  },\n  {\n    pk: 23,\n    name: 'queen',\n    suit: 'hearts',\n    img: 'дама черви.svg',\n  },\n  {\n    pk: 24,\n    name: 'jack',\n    suit: 'hearts',\n    img: 'валет черви.svg',\n  },\n  {\n    pk: 25,\n    name: '10',\n    suit: 'hearts',\n    img: '10 черви.svg',\n  },\n  {\n    pk: 26,\n    name: '9',\n    suit: 'hearts',\n    img: '9 черви.svg',\n  },\n  {\n    pk: 27,\n    name: '8',\n    suit: 'hearts',\n    img: '8 черви.svg',\n  },\n  {\n    pk: 28,\n    name: '7',\n    suit: 'hearts',\n    img: '7 черви.svg',\n  },\n  {\n    pk: 29,\n    name: '6',\n    suit: 'hearts',\n    img: '6 черви.svg',\n  },\n  {\n    pk: 31,\n    name: 'ace',\n    suit: 'diamonds',\n    img: 'туз бубны.svg',\n  },\n  {\n    pk: 32,\n    name: 'king',\n    suit: 'diamonds',\n    img: 'король бубны.svg',\n  },\n  {\n    pk: 33,\n    name: 'queen',\n    suit: 'diamonds',\n    img: 'дама бубны.svg',\n  },\n  {\n    pk: 34,\n    name: 'jack',\n    suit: 'diamonds',\n    img: 'валет бубны.svg',\n  },\n  {\n    pk: 35,\n    name: '10',\n    suit: 'diamonds',\n    img: '10 бубны.svg',\n  },\n  {\n    pk: 36,\n    name: '9',\n    suit: 'diamonds',\n    img: '9 бубны.svg',\n  },\n  {\n    pk: 37,\n    name: '8',\n    suit: 'diamonds',\n    img: '8 бубны.svg',\n  },\n  {\n    pk: 38,\n    name: '7',\n    suit: 'diamonds',\n    img: '7 бубны.svg',\n  },\n  {\n    pk: 39,\n    name: '6',\n    suit: 'diamonds',\n    img: '6 бубны.svg',\n  },\n  {\n    pk: 41,\n    name: 'ace',\n    suit: 'clubs',\n    img: 'туз крести.svg',\n  },\n  {\n    pk: 42,\n    name: 'king',\n    suit: 'clubs',\n    img: 'король крести.svg',\n  },\n  {\n    pk: 43,\n    name: 'queen',\n    suit: 'clubs',\n    img: 'дама крести.svg',\n  },\n  {\n    pk: 44,\n    name: 'jack',\n    suit: 'clubs',\n    img: 'валет крести.svg',\n  },\n  {\n    pk: 45,\n    name: '10',\n    suit: 'clubs',\n    img: '10 крести.svg',\n  },\n  {\n    pk: 46,\n    name: '9',\n    suit: 'clubs',\n    img: '9 крести.svg',\n  },\n  {\n    pk: 47,\n    name: '8',\n    suit: 'clubs',\n    img: '8 крести.svg',\n  },\n  {\n    pk: 48,\n    name: '7',\n    suit: 'clubs',\n    img: '7 крести.svg',\n  },\n  {\n    pk: 49,\n    name: '6',\n    suit: 'clubs',\n    img: '6 крести.svg',\n  },\n];\n\nmodule.exports = { cards };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","export default function templateEngine(block) {\n    if (block === undefined || block === null || block === false) {\n        return document.createTextNode('');\n    }\n    if (typeof block === 'string' ||\n        typeof block === 'number' ||\n        block === true) {\n        return document.createTextNode(block);\n    }\n    if (Array.isArray(block)) {\n        const fragment = document.createDocumentFragment();\n        block.forEach((element) => {\n            fragment.appendChild(templateEngine(element));\n        });\n        return fragment;\n    }\n    const result = document.createElement(block.tag);\n    if (block.cls) {\n        const classes = [].concat(block.cls);\n        classes.forEach((cls) => result.classList.add(cls));\n    }\n    if (block.attrs) {\n        const keys = Object.keys(block.attrs);\n        keys.forEach((key) => result.setAttribute(key, block.attrs[key]));\n    }\n    result.appendChild(templateEngine(block.content));\n    // result.classList.add(...[].concat(block.cls).filter(Boolean));\n    return result;\n}\n","import { cards } from './cards';\nimport renderWelcomeScreen from './screens';\nexport function getCardsToPlay(cardsCount) {\n    const randomNumbers = getRandomNumbers(cardsCount / 2);\n    let cardsToPlay = [];\n    for (let cardNumber of randomNumbers) {\n        cardsToPlay.push(cards[cardNumber]);\n        cardsToPlay.push(cards[cardNumber]);\n    }\n    return shuffleCards(shuffleCards(cardsToPlay));\n}\nexport function getRandomNumbers(n, from = 36) {\n    let counter = 0;\n    const result = [];\n    do {\n        const number = Math.floor(Math.random() * from);\n        if (!result.includes(number)) {\n            result.push(number);\n            counter++;\n        }\n    } while (counter < n);\n    return result;\n}\nexport function shuffleCards(origin) {\n    let shuffled = origin\n        .map((value) => ({ value, sort: Math.random() }))\n        .sort((a, b) => a.sort - b.sort)\n        .map(({ value }) => value);\n    return shuffled;\n}\nexport function closeMissedPair(card) {\n    closeCard(card);\n    if (window.app.prevOpenCard)\n        closeCard(window.app.prevOpenCard);\n}\nexport function checkCard(card) {\n    return window.app.prevOpenCard?.dataset.cardPk === card.dataset.cardPk;\n}\nfunction toggleCard(card) {\n    const cardFace = card.querySelector('.card__face');\n    const cardBack = card.querySelector('.card__back');\n    if (cardFace?.classList.contains('hidden')) {\n        cardBack?.classList.add('hidden');\n        cardFace.classList.remove('hidden');\n        card.dataset.open = 'true';\n        window.app.openCardsCount++;\n    }\n    else {\n        cardFace?.classList.add('hidden');\n        cardBack?.classList.remove('hidden');\n        card.dataset.open = 'false';\n        window.app.openCardsCount--;\n    }\n}\nexport function openCard(card) {\n    if (card.dataset.open === 'true')\n        return;\n    toggleCard(card);\n}\nfunction closeCard(card) {\n    if (card.dataset.open !== 'true')\n        return;\n    toggleCard(card);\n}\nexport function hideCardsFaces() {\n    const cards = document.querySelectorAll('.card');\n    const cardFaces = document.querySelectorAll('.card__face');\n    const cardBacks = document.querySelectorAll('.card__back');\n    cards.forEach((card) => (card.dataset.open = 'false'));\n    cardFaces.forEach((card) => card.classList.add('hidden'));\n    cardBacks.forEach((card) => card.classList.remove('hidden'));\n}\nexport function restartGame() {\n    window.app.timerValue = 0;\n    window.app.openCardsCount = 0;\n    window.app.errorCount = 0;\n    renderWelcomeScreen();\n}\nexport function stopGame() {\n    clearInterval(window.app.timer);\n    window.app.timer = undefined;\n}\n","export function timer(resultFunction = showTime) {\n    resultFunction(++window.app.timerValue);\n}\nexport function showTime(seconds) {\n    const clock = document.querySelector('.clock__time');\n    if (clock)\n        clock.textContent = timeToString(seconds);\n}\nexport function timeToString(seconds) {\n    const sec = seconds < 3600 ? seconds % 60 : 59;\n    const min = Math.min((seconds - sec) / 60, 59);\n    return `${zeroPrefix(min)}.${zeroPrefix(sec)}`;\n}\nexport function zeroPrefix(number) {\n    let str = String(number);\n    if (str.length < 2)\n        str = '0' + str;\n    return str;\n}\n","import templateEngine from './template-engine';\nimport { welcomeScreenTemplate, gameScreenTemplate, cardFront, msgBoxTemplate, } from './templates';\nimport { getCardsToPlay, openCard, checkCard, closeMissedPair, hideCardsFaces, restartGame, stopGame, } from './game';\nimport { timer } from './timer';\nfunction renderScreen(template, cleanBackground = true) {\n    const { root } = window.app;\n    if (!root)\n        throw new Error(\"No root defined!\");\n    if (cleanBackground)\n        root.textContent = '';\n    const screen = templateEngine(template);\n    root.appendChild(screen);\n    return screen;\n}\nexport default function renderWelcomeScreen() {\n    const screen = renderScreen(welcomeScreenTemplate());\n    const form = screen.querySelector('.form');\n    const error = screen.querySelector('.form__error');\n    const submitBtn = screen.querySelector('.form__submit-btn');\n    const hideError = () => error.classList.add('hidden');\n    form.addEventListener('click', hideError);\n    submitBtn.addEventListener('blur', hideError);\n    form.addEventListener('submit', (event) => {\n        event.preventDefault();\n        const level = (window.app.level = +form.level.value);\n        if (!level) {\n            error.classList.remove('hidden');\n            return;\n        }\n        let maxCards;\n        switch (window.app.level) {\n            case 1:\n                maxCards = 6;\n                break;\n            case 2:\n                maxCards = 12;\n                break;\n            default:\n                maxCards = 18;\n        }\n        window.app.maxCards = maxCards;\n        renderGameScreen();\n    });\n}\nfunction renderGameScreen() {\n    const screen = renderScreen(gameScreenTemplate());\n    const cardBoard = screen.querySelector('.card-board');\n    const restartBtn = screen.querySelector('.restart-btn');\n    const clock = screen.querySelector('.clock__time');\n    restartBtn.addEventListener('click', () => {\n        stopGame();\n        restartGame();\n    });\n    clock.textContent = '00.00';\n    const { maxCards } = window.app;\n    // console.log('renderGameScreen:maxCards =', maxCards);\n    const cards = getCardsToPlay(maxCards);\n    for (let i = 0; i < maxCards; i++) {\n        // cardBoard.appendChild(templateEngine(cardBack()));\n        const card = cardBoard.appendChild(templateEngine(cardFront(cards[i].img)));\n        card.dataset.cardPk = cards[i].pk;\n        card.addEventListener('click', () => {\n            // if cards are open or before hideCardsFaces\n            if (card.dataset.open === 'true' || card.dataset.open === undefined)\n                return;\n            openCard(card);\n            // if the first card in a pair\n            if (window.app.openCardsCount % 2 > 0) {\n                window.app.prevOpenCard = card;\n                return;\n            }\n            // if not\n            if (checkCard(card)) {\n                if (window.app.openCardsCount === window.app.maxCards) {\n                    stopGame();\n                    renderWinMsgBox();\n                }\n            }\n            else {\n                showErrorIcons(++window.app.errorCount);\n                if (window.app.errorCount >= 3) {\n                    stopGame();\n                    renderLoseMsgBox();\n                }\n                else {\n                    // to close a wrong pair if the player is given several attempts\n                    // TODO to block card picking before closeMissedPair\n                    setTimeout(() => {\n                        closeMissedPair(card);\n                    }, 500);\n                }\n            }\n        });\n    }\n    setTimeout(hideCardsFaces, 5000);\n    window.app.timer = setInterval(timer, 1000);\n}\nfunction renderWinMsgBox() {\n    renderMsgBox('Вы выиграли!', window.app.winIcon);\n}\nfunction renderLoseMsgBox() {\n    renderMsgBox('Вы проиграли!', window.app.loseIcon);\n}\nfunction renderMsgBox(message, icon) {\n    const time = document.querySelector('.clock__time');\n    const timeToMsgBox = time ? time.textContent : '';\n    const screen = renderScreen(msgBoxTemplate(message, timeToMsgBox, icon), false);\n    // const form = screen.querySelector('.form-msgbox');\n    const submitBtn = screen.querySelector('.form-msgbox__submit-btn');\n    submitBtn.addEventListener('click', () => restartGame());\n}\nfunction showErrorIcons(errorCount) {\n    const errors = document.querySelectorAll('.top__error');\n    for (let i = 0; i < errorCount; i++) {\n        errors[i].classList.remove('hidden');\n    }\n}\n","export function cardBack() {\n    return {\n        tag: 'div',\n        cls: 'card',\n        content: [\n            {\n                tag: 'div',\n                cls: ['card__face', 'hidden'],\n                // attrs: { style: 'display: none' },\n            },\n            {\n                tag: 'div',\n                cls: 'card__back',\n            },\n        ],\n    };\n}\nexport function cardFront(image) {\n    // const url = '../src/img/' + image;\n    const url = './static/' + image;\n    return {\n        tag: 'div',\n        cls: 'card',\n        content: [\n            {\n                tag: 'div',\n                cls: 'card__face',\n                attrs: {\n                    style: `background: url('${url}') no-repeat center;`,\n                },\n            },\n            {\n                tag: 'div',\n                cls: ['card__back', 'hidden'],\n            },\n        ],\n    };\n}\nexport function welcomeScreenTemplate() {\n    return {\n        tag: 'div',\n        cls: 'canvas',\n        content: [\n            {\n                tag: 'form',\n                cls: 'form',\n                attrs: { name: 'form' },\n                content: [\n                    {\n                        tag: 'h1',\n                        cls: 'form__title',\n                        content: 'Выбери сложность',\n                    },\n                    {\n                        tag: 'div',\n                        cls: ['field', 'form__level-area'],\n                        content: [\n                            {\n                                tag: 'input',\n                                attrs: {\n                                    type: 'radio',\n                                    id: 'level-1',\n                                    name: 'level',\n                                    value: '1',\n                                },\n                            },\n                            {\n                                tag: 'label',\n                                attrs: {\n                                    for: 'level-1',\n                                },\n                                content: '1',\n                            },\n                            {\n                                tag: 'input',\n                                attrs: {\n                                    type: 'radio',\n                                    id: 'level-2',\n                                    name: 'level',\n                                    value: '2',\n                                },\n                            },\n                            {\n                                tag: 'label',\n                                attrs: {\n                                    for: 'level-2',\n                                },\n                                content: '2',\n                            },\n                            {\n                                tag: 'input',\n                                attrs: {\n                                    type: 'radio',\n                                    id: 'level-3',\n                                    name: 'level',\n                                    value: '3',\n                                },\n                            },\n                            {\n                                tag: 'label',\n                                attrs: {\n                                    for: 'level-3',\n                                },\n                                content: '3',\n                            },\n                        ],\n                    },\n                    {\n                        tag: 'button',\n                        cls: 'form__submit-btn',\n                        attrs: {\n                            type: 'submit',\n                        },\n                        content: 'Старт',\n                    },\n                    {\n                        tag: 'p',\n                        cls: ['form__error', 'hidden'],\n                        content: 'Выберите уровень',\n                    },\n                ],\n            },\n        ],\n    };\n}\nexport function gameScreenTemplate() {\n    const { errorIcon } = window.app;\n    return {\n        tag: 'div',\n        cls: 'container',\n        content: [\n            {\n                tag: 'div',\n                cls: 'top',\n                content: [\n                    {\n                        tag: 'div',\n                        cls: 'clock',\n                        content: [\n                            {\n                                tag: 'div',\n                                cls: 'clock__labels',\n                                content: [\n                                    {\n                                        tag: 'span',\n                                        content: 'min',\n                                    },\n                                    {\n                                        tag: 'span',\n                                        cls: 'clock__labels__sec',\n                                        content: 'sec',\n                                    },\n                                ],\n                            },\n                            {\n                                tag: 'p',\n                                cls: 'clock__time',\n                                content: '00.00',\n                            },\n                        ],\n                    },\n                    {\n                        tag: 'div',\n                        content: [\n                            {\n                                tag: 'img',\n                                cls: ['top__error', 'hidden'],\n                                attrs: { src: errorIcon },\n                            },\n                            {\n                                tag: 'img',\n                                cls: ['top__error', 'hidden'],\n                                attrs: { src: errorIcon },\n                            },\n                            {\n                                tag: 'img',\n                                cls: ['top__error', 'hidden'],\n                                attrs: { src: errorIcon },\n                            },\n                        ],\n                    },\n                    {\n                        tag: 'button',\n                        cls: 'restart-btn',\n                        content: 'Начать заново',\n                    },\n                ],\n            },\n            {\n                tag: 'div',\n                cls: 'card-board',\n            },\n        ],\n    };\n}\nexport function msgBoxTemplate(message, time, icon = null) {\n    return {\n        tag: 'div',\n        cls: 'form-msgbox-canvas',\n        content: {\n            tag: 'div',\n            cls: 'form-msgbox',\n            content: [\n                {\n                    tag: 'img',\n                    cls: 'form-msgbox__icon',\n                    attrs: { src: `${icon}` },\n                    // content: `'${icon}'`,\n                },\n                {\n                    tag: 'div',\n                    cls: 'form-msgbox__title',\n                    content: message,\n                },\n                {\n                    tag: 'p',\n                    cls: 'form-msgbox__time-label',\n                    content: 'Затраченное время:',\n                },\n                {\n                    tag: 'p',\n                    cls: 'form-msgbox__time',\n                    content: time,\n                },\n                {\n                    tag: 'button',\n                    cls: 'form-msgbox__submit-btn',\n                    attrs: {\n                        type: 'submit',\n                    },\n                    content: 'Играть снова',\n                },\n            ],\n        },\n    };\n}\n","import './styles/fonts/stratos/stylesheet.css';\nimport './styles/style.css';\nimport renderWelcomeScreen from './screens';\nimport { cards } from './cards';\n;\nwindow.app = {\n    root: document.querySelector('.app'),\n    level: undefined,\n    cards: cards,\n    maxCards: 6,\n    prevOpenCard: undefined,\n    openCardsCount: 0,\n    timer: undefined,\n    timerValue: 0,\n    errorCount: 0,\n    loseIcon: './static/lose.svg',\n    winIcon: './static/win.svg',\n    errorIcon: './static/error-icon.png',\n    // errorIcon: './static/lose.svg',\n};\nrenderWelcomeScreen();\n"],"names":["module","exports","cards","pk","name","suit","img","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","templateEngine","block","document","createTextNode","Array","isArray","fragment","createDocumentFragment","forEach","element","appendChild","result","createElement","tag","cls","concat","classList","add","attrs","Object","keys","key","setAttribute","content","getCardsToPlay","cardsCount","randomNumbers","n","from","counter","number","Math","floor","random","includes","push","getRandomNumbers","cardsToPlay","cardNumber","shuffleCards","origin","map","value","sort","a","b","closeMissedPair","card","closeCard","window","app","prevOpenCard","checkCard","dataset","cardPk","toggleCard","cardFace","querySelector","cardBack","contains","remove","open","openCardsCount","openCard","hideCardsFaces","querySelectorAll","cardFaces","cardBacks","restartGame","timerValue","errorCount","renderWelcomeScreen","stopGame","clearInterval","timer","resultFunction","showTime","seconds","clock","textContent","sec","zeroPrefix","min","timeToString","str","String","length","renderScreen","template","cleanBackground","root","Error","screen","type","id","for","form","error","submitBtn","hideError","addEventListener","event","preventDefault","level","maxCards","errorIcon","src","gameScreenTemplate","cardBoard","restartBtn","i","style","renderMsgBox","winIcon","showErrorIcons","loseIcon","setTimeout","setInterval","renderGameScreen","message","icon","time","msgBoxTemplate","errors"],"sourceRoot":""}